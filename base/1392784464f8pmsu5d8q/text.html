<body>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<div style=" font-family:'DejaVu Sans'; font-size:15pt; font-weight:400; font-style:normal;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br></p>
<hr>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;">
<li style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;"><span style=" font-size:22px;">Создаем файл необходимого размера для swap области, где /home/swap-tmp - это имя и путь файла, а count=1024K его размерв, в данном случае - 1024 Мб):</span></li>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:49px; margin-right:0px; -qt-block-indent:1; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Constantia,monospace,sans-serif'; font-size:22px; color:#2c2c2c; background-color:#f7f7f7;"># sudo dd if=/dev/zero of=/home/swap-tmp bs=1024 count=1024K</span></p>
<p style="-qt-paragraph-type:empty; margin-top:8px; margin-bottom:8px; margin-left:49px; margin-right:0px; -qt-block-indent:1; text-indent:0px; font-family:'Constantia,monospace,sans-serif'; font-size:15px; color:#2c2c2c; background-color:#f7f7f7;"><br></p>
<li style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;"><span style=" font-size:22px;">Далее производим запись в начало файла системную информацию, которая будет используется ядром системы для работы с файлом подкачки:</span></li>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:49px; margin-right:0px; -qt-block-indent:1; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Constantia,monospace,sans-serif'; font-size:22px; color:#2c2c2c; background-color:#f7f7f7;"># sudo mkswap /home/swap-tmp</span><span style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;">После окончания операции на экране появится:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:8px; margin-bottom:8px; margin-left:49px; margin-right:0px; -qt-block-indent:1; text-indent:0px; font-family:'arial,sans'; font-size:15px; color:#2c2c2c; background-color:#f7f7f7;"><br></p>
<li style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;"><span style=" font-size:22px;">Следующим шагом активируем только что созданный SWAP файл:</span></li>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:49px; margin-right:0px; -qt-block-indent:1; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Constantia,monospace,sans-serif'; font-size:22px; color:#2c2c2c; background-color:#f7f7f7;"># sudo swapon /home/swap-tmp</span><span style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;">Для просмотра результата просматриваем все объекты, которые используются для размещения виртуальной памяти:</span></p>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:49px; margin-right:0px; -qt-block-indent:1; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Constantia,monospace,sans-serif'; font-size:22px; color:#2c2c2c; background-color:#f7f7f7;"># cat /proc/swaps</span></p>
<li style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;"><span style=" font-size:22px;">После перезагрузки системы SWAP файл необходимо активировать снова или добавить строчка для автоматической загрузки в файл fstab.</span></li>
</ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:34px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;">Редактировать файл fstab можно самостоятельно или командой, которая добавляет в конец файла fstab строку </span><span style=" font-family:'arial,sans'; font-size:22px; font-style:italic; color:#000000;">/home/swap-tmp swap swap defaults 0 0</span><span style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;">:</span></p>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:49px; margin-right:0px; -qt-block-indent:1; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Constantia,monospace,sans-serif'; font-size:22px; color:#2c2c2c; background-color:#f7f7f7;"># echo "/home/swap-tmp swap swap defaults 0 0" | sudo tee -a /etc/fstab</span><span style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;">Тоже самое действие но добовление через UUID, который присваивается в пункте 2:</span></p>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:49px; margin-right:0px; -qt-block-indent:1; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Constantia,monospace,sans-serif'; font-size:22px; color:#2c2c2c; background-color:#f7f7f7;"># echo "UUID=54c60583-e61a-483a-a15c-2f1be966db85 swap swap defaults 0 0" | sudo tee -a /etc/fstab</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="delete"></a><span style=" font-family:'Tahoma,sans-serif'; font-size:x-large; font-weight:600; color:#4e4e52;">3</span><span style=" font-family:'Tahoma,sans-serif'; font-size:x-large; font-weight:600; color:#4e4e52;">. Удаление SWAP файла</span></p>
<hr>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;">
<li style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;"><span style=" font-size:22px;">Просматриваем все объекты, которые используются для размещения виртуальной памяти</span></li>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:49px; margin-right:0px; -qt-block-indent:1; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Constantia,monospace,sans-serif'; font-size:22px; color:#2c2c2c; background-color:#f7f7f7;"># cat /proc/swaps</span><span style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;">Выбираем ненужный.</span></p>
<li style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;"><span style=" font-size:22px;">Деактивируем, для примера, созданный выше SWAP файл:</span></li>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:49px; margin-right:0px; -qt-block-indent:1; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Constantia,monospace,sans-serif'; font-size:22px; color:#2c2c2c; background-color:#f7f7f7;"># sudo swapoff /home/swap-tmp</span></p>
<li style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;"><span style=" font-size:22px;">Удаляем SWAP файл:</span></li>
</ol>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:49px; margin-right:0px; -qt-block-indent:1; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Constantia,monospace,sans-serif'; font-size:22px; color:#2c2c2c; background-color:#f7f7f7;"># sudo rm /home/swap-tmp</span><span style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;"><br></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;">Если Вы раньше добавляли строчку в fstab, для автоматической загрузки SWAP файла при старте операционной системы, то следует ее удалить. Выводим файл </span><span style=" font-family:'arial,sans'; font-size:22px; font-style:italic; color:#000000;">/etc/fstab</span><span style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;"> для редактирования на экран:</span></p>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:15px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Constantia,monospace,sans-serif'; color:#2c2c2c; background-color:#f7f7f7;"># sudo gedit /etc/fstab</span><span style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;">В нем удаляем строчку монтирования SWAP файла.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="edit"></a><span style=" font-family:'Tahoma,sans-serif'; font-size:x-large; font-weight:600; color:#4e4e52;">4</span><span style=" font-family:'Tahoma,sans-serif'; font-size:x-large; font-weight:600; color:#4e4e52;">. Редактирование размера SWAP файла</span></p>
<hr>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans'; font-size:22px; color:#2c2c2c;">Действия по редактирование объема SWAP файла сводятся к удалению уже созданного файла SWAP и созданию нового файла требуемого размера. То есть нужно сначало сделать пункт 3, а после пункт 2.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br></p>
</div>
</body>